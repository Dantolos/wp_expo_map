(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.React;var n=e.n(t);const o=window.ReactDOM;var i=e.n(o);class a{constructor(e){this.ALL_ELEMENTS=e.querySelectorAll('[id^="_ai-"]'),this.SORTED_ELEMNTS=[],this.ALL_ELEMENTS.forEach((e=>{let t=e.id.split("-")[1];this.SORTED_ELEMNTS[t]||(this.SORTED_ELEMNTS[t]=[]),this.SORTED_ELEMNTS[t].push(e),e.addEventListener("mouseenter",(()=>{e.classList.add("hover-element")})),e.addEventListener("mouseleave",(()=>{e.classList.remove("hover-element")}))}))}}var r={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},s=t.createContext&&t.createContext(r),l=["attr","size","title"];function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c.apply(this,arguments)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){var o,i,a;o=e,i=t,a=n[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(i))in o?Object.defineProperty(o,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[i]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){return e&&e.map(((e,n)=>t.createElement(e.tag,m({key:n},e.attr),p(e.child))))}function d(e){return n=>t.createElement(f,c({attr:m({},e.attr)},n),p(e.child))}function f(e){var n=n=>{var o,{attr:i,size:a,title:r}=e,s=function(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,l),u=a||n.size||"1em";return n.className&&(o=n.className),e.className&&(o=(o?o+" ":"")+e.className),t.createElement("svg",c({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:o,style:m(m({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),r&&t.createElement("title",null,r),e.children)};return void 0!==s?t.createElement(s.Consumer,null,(e=>n(e))):n(r)}function h(e){return d({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm80 224h-64v64a16 16 0 0 1-32 0v-64h-64a16 16 0 0 1 0-32h64v-64a16 16 0 0 1 32 0v64h64a16 16 0 0 1 0 32z"},child:[]}]})(e)}function v(e){return d({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 1 1-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 0 1-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0 1 22.62-22.62L256 233.37l52.69-52.68a16 16 0 0 1 22.62 22.62L278.63 256z"},child:[]}]})(e)}function g(e){return d({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm-88 302a24 24 0 1 1 24-24 24 24 0 0 1-24 24zm0-71a24 24 0 1 1 24-24 24 24 0 0 1-24 24zm0-73a24 24 0 1 1 24-24 24 24 0 0 1-24 24zm184 135H224a16 16 0 0 1 0-32h128a16 16 0 0 1 0 32zm0-71H224a16 16 0 0 1 0-32h128a16 16 0 0 1 0 32zm0-72H224a16 16 0 0 1 0-32h128a16 16 0 0 1 0 32z"},child:[]}]})(e)}function w(e){return d({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm-50.22 116.82C218.45 151.39 236.28 144 256 144s37.39 7.44 50.11 20.94c12.89 13.68 19.16 32.06 17.68 51.82C320.83 256 290.43 288 256 288s-64.89-32-67.79-71.25c-1.47-19.92 4.79-38.36 17.57-51.93zM256 432a175.49 175.49 0 0 1-126-53.22 122.91 122.91 0 0 1 35.14-33.44C190.63 329 222.89 320 256 320s65.37 9 90.83 25.34A122.87 122.87 0 0 1 382 378.78 175.45 175.45 0 0 1 256 432z"},child:[]}]})(e)}function y(e){return d({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm80 224H176a16 16 0 0 1 0-32h160a16 16 0 0 1 0 32z"},child:[]}]})(e)}function E(e){return d({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm-40 320h-28a44.05 44.05 0 0 1-44-44v-28a16 16 0 0 1 32 0v28a12 12 0 0 0 12 12h28a16 16 0 0 1 0 32zm0-192h-28a12 12 0 0 0-12 12v28a16 16 0 0 1-32 0v-28a44.05 44.05 0 0 1 44-44h28a16 16 0 0 1 0 32zm152 148a44.05 44.05 0 0 1-44 44h-28a16 16 0 0 1 0-32h28a12 12 0 0 0 12-12v-28a16 16 0 0 1 32 0zm0-108a16 16 0 0 1-32 0v-28a12 12 0 0 0-12-12h-28a16 16 0 0 1 0-32h28a44.05 44.05 0 0 1 44 44z"},child:[]}]})(e)}function b({contentData:e}){const[n,o]=(0,t.useState)(null),[i,a]=(0,t.useState)(!0);return(0,t.useEffect)((()=>{a(!0),async function(){if(e.acf&&e.acf.exhibitor&&e.acf.exhibitor.logo)try{const t=e.acf.exhibitor.logo,n=`${window.location.origin}/wp-json/wp/v2/`,i=await fetch(`${n}media/${t}`),a=await i.json();o(a.source_url)}catch(e){console.error("Error fetching image:",e)}finally{a(!1)}}()}),[e]),(0,t.createElement)("div",{className:"expomap-content-booth"},i?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"skeleton skeleton-image"}),(0,t.createElement)("div",{className:"skeleton skeleton-title"}),(0,t.createElement)("div",{className:"skeleton skeleton-description"}),(0,t.createElement)("div",{className:"skeleton skeleton-button"})):(0,t.createElement)(t.Fragment,null,n&&(0,t.createElement)("img",{src:n,alt:"Exhibitor Logo"}),(0,t.createElement)("h4",null,e.title.rendered),(0,t.createElement)("div",{className:"exomap-content-description",dangerouslySetInnerHTML:{__html:e.acf.exhibitor.beschreibungstext}}),e.acf.exhibitor.kontaktperson_verlinkung&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"exomap-content-trenner"},(0,t.createElement)("p",null,"Contact Person")),(0,t.createElement)("div",{className:"expomap-content-contact"},(0,t.createElement)("a",{href:e.acf.exhibitor.kontaktperson_verlinkung,target:"_blank"},(0,t.createElement)(w,{color:"#1582BE",size:"35px"}),(0,t.createElement)("h6",null,e.acf.exhibitor.kontaktperson)))),e.acf.exhibitor.webseite&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"exomap-content-trenner"},(0,t.createElement)("p",null,"Webseite")),(0,t.createElement)("a",{href:e.acf.exhibitor.webseite,target:"_blank"},(0,t.createElement)("button",null,"Website")))))}function S({contentData:e}){const[n,o]=(0,t.useState)(null),[i,a]=(0,t.useState)(!0);return(0,t.useEffect)((()=>{a(!0),async function(){if(e.acf&&e.acf.arena&&e.acf.arena.logo)try{const t=e.acf.arena.logo,n=`${window.location.origin}/wp-json/wp/v2/`,i=await fetch(`${n}media/${t}`),a=await i.json();o(a.source_url)}catch(e){console.error("Error fetching image:",e)}finally{a(!1)}a(!1)}()}),[e]),(0,t.createElement)("div",{className:"expomap-content-booth"},i?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"skeleton skeleton-image"}),(0,t.createElement)("div",{className:"skeleton skeleton-title"}),(0,t.createElement)("div",{className:"skeleton skeleton-description"}),(0,t.createElement)("div",{className:"skeleton skeleton-button"})):(0,t.createElement)(t.Fragment,null,n&&(0,t.createElement)("img",{src:n,alt:"Exhibitor Logo"}),(0,t.createElement)("h4",null,e.title.rendered),(0,t.createElement)("div",{className:"exomap-content-description",dangerouslySetInnerHTML:{__html:e.acf.arena.description}}),e.acf.arena.kontaktperson_verlinkung&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"exomap-content-trenner"},(0,t.createElement)("p",null,"Contact Person")),(0,t.createElement)("div",{className:"expomap-content-contact"},(0,t.createElement)("a",{href:e.acf.arena.kontaktperson_verlinkung,target:"_blank"},(0,t.createElement)(w,{color:"#1582BE",size:"35px"}),(0,t.createElement)("h6",null,e.acf.arena.kontaktperson)))),e.acf.arena.webseite&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"exomap-content-trenner"},(0,t.createElement)("p",null,"Webseite")),(0,t.createElement)("a",{href:e.acf.arena.webseite,target:"_blank"},(0,t.createElement)("button",null,"Website")))))}function x(){const[e,n]=(0,t.useState)(!1);return(0,t.useEffect)((async()=>{const e=document.querySelector("#expo-plan-wrapper").querySelector(".expo-plan-image-container>svg");let t=await new a(e);const o=document.querySelectorAll(".expomap-list-item");o&&o.length>0&&o.forEach((t=>{t.addEventListener("mouseover",(n=>{let o=e.getElementById(t.dataset.boothid);t.dataset.content&&o.classList.add("hover-element")})),t.addEventListener("mouseleave",(n=>{e.getElementById(t.dataset.boothid).classList.remove("hover-element")})),t.addEventListener("click",(async()=>{let e=await C(t.dataset.content);await n(e),document.getElementById("expomap-content-container").classList.remove("hidden-content-container")}))})),t.ALL_ELEMENTS.forEach((e=>{e.addEventListener("click",(async()=>{let t=await C(document.querySelector('.expomap-list-item[data-boothid="'+e.id+'"]').dataset.content);await n(t);let o=document.getElementById("expomap-content-container");t?o.classList.remove("hidden-content-container"):o.classList.add("hidden-content-container")}))}))}),[]),(0,t.createElement)("div",{className:"expomap-content"},e&&(0,t.createElement)(t.Fragment,null,"b"===e.acf.booth_type&&(0,t.createElement)(b,{contentData:e}),"a"===e.acf.booth_type&&(0,t.createElement)(S,{contentData:e})))}async function C(e){let t=null;if(e){let n=`${window.location.origin}/wp-json/wp/v2/`;await fetch(`${n}booth/${e}`).then((e=>e.json())).then((function(e){console.log(e),t=e})).catch((function(e){console.log(e)}))}return t}function P({position:e,content:n,loading:o}){return(0,t.createElement)("div",{className:"tooltip-container",style:{top:e.y,left:e.x}},o?(0,t.createElement)("div",{className:"skeleton",style:{width:"60px",height:"20px"}}):(0,t.createElement)("h5",null,n))}function T(){const[e,n]=(0,t.useState)(!1),[o,i]=(0,t.useState)(1);return(0,t.useEffect)((()=>{let e=document.querySelector(".expo-plan-image-container>svg");e&&(e.style.transform=`scale(${o})`)}),[o]),(0,t.useEffect)((()=>{let e=document.querySelector(".expo-plan-image-container>svg");e&&e.addEventListener("scroll",(e=>{console.log(e)}))}),[]),(0,t.createElement)("div",{className:"expomap-mapmenu-container"},(0,t.createElement)("div",{className:"expomap-menu-item","data-label":"list",onClick:()=>{n(!e),document.querySelector(".expomap-itemlist").classList.toggle("hidden-itemlist")}},e?(0,t.createElement)(v,{size:"100%",color:"white"}):(0,t.createElement)(g,{size:"100%",color:"white"})),(0,t.createElement)("div",{className:"expomap-menu-item","data-label":"zoom-out",onClick:function(){o<=.5||i(o-.1)}},(0,t.createElement)(y,{size:"100%",color:"white"})),(0,t.createElement)("div",{className:"expomap-menu-item","data-label":"zoom-in",onClick:function(){o>=2||i(o+.1)}},(0,t.createElement)(h,{size:"100%",color:"white"})),(0,t.createElement)("div",{className:"expomap-menu-item",id:"map-reset","data-label":"zoom-reset",onClick:function(){i(1)}},(0,t.createElement)(E,{size:"100%",color:"white"})))}function k(){const[e,n]=(0,t.useState)({x:0,y:0}),[o,i]=(0,t.useState)("Stand"),[a,r]=(0,t.useState)(null),[s,l]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{if(!a)return;l(!0);let e=document.querySelector('.expomap-list-item[data-boothid="'+a+'"]').dataset.content;(async()=>{try{const t=`${window.location.origin}/wp-json/wp/v2/`,n=await fetch(`${t}booth/${e}`),o=await n.json();i(o.title.rendered)}catch(e){i("")}finally{l(!1)}})()}),[a]),(0,t.createElement)(t.Fragment,null,(0,t.createElement)(T,null),(0,t.createElement)(P,{position:e,content:o,loading:s}),(0,t.createElement)("div",{id:"expomap-content-container",class:"hidden-content-container"},(0,t.createElement)(v,{onClick:()=>{document.getElementById("expomap-content-container").classList.add("hidden-content-container")},size:"35px",color:"#F95300",className:"expomap-closeicon"}),(0,t.createElement)(x,null)))}var N=function(e,t){return Number(e.toFixed(t))},z=function(e,t,n){n&&"function"==typeof n&&n(e,t)},O={easeOut:function(e){return-Math.cos(e*Math.PI)/2+.5},linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}},Y=function(e){"number"==typeof e&&cancelAnimationFrame(e)},X=function(e){e.mounted&&(Y(e.animation),e.animate=!1,e.animation=null,e.velocity=null)};function L(e,t,n,o){if(e.mounted){var i=(new Date).getTime();X(e),e.animation=function(){if(!e.mounted)return Y(e.animation);var a=(new Date).getTime()-i,r=a/n,s=(0,O[t])(r);a>=n?(o(1),e.animation=null):e.animation&&(o(s),requestAnimationFrame(e.animation))},requestAnimationFrame(e.animation)}}function D(e,t,n,o){var i=function(e){var t=e.scale,n=e.positionX,o=e.positionY;return!(Number.isNaN(t)||Number.isNaN(n)||Number.isNaN(o))}(t);if(e.mounted&&i){var a=e.setTransformState,r=e.transformState,s=r.scale,l=r.positionX,c=r.positionY,u=t.scale-s,m=t.positionX-l,p=t.positionY-c;0===n?a(t.scale,t.positionX,t.positionY):L(e,o,n,(function(e){a(s+u*e,l+m*e,c+p*e)}))}}var M=function(e,t){var n=e.wrapperComponent,o=e.contentComponent,i=e.setup.centerZoomedOut;if(!n||!o)throw new Error("Components are not mounted");var a=function(e,t,n){var o=e.offsetWidth,i=e.offsetHeight,a=t.offsetWidth*n,r=t.offsetHeight*n;return{wrapperWidth:o,wrapperHeight:i,newContentWidth:a,newDiffWidth:o-a,newContentHeight:r,newDiffHeight:i-r}}(n,o,t),r=a.wrapperWidth,s=a.wrapperHeight,l=function(e,t,n,o,i,a,r){var s=e>t?n*(r?1:.5):0,l=o>i?a*(r?1:.5):0;return{minPositionX:e-t-s,maxPositionX:s,minPositionY:o-i-l,maxPositionY:l}}(r,a.newContentWidth,a.newDiffWidth,s,a.newContentHeight,a.newDiffHeight,Boolean(i));return l},W=function(e,t,n,o){return N(o?e<t?t:e>n?n:e:e,2)},A=function(e,t){var n=M(e,t);return e.bounds=n,n};function I(e,t,n,o,i,a,r){var s=n.minPositionX,l=n.minPositionY,c=n.maxPositionX,u=n.maxPositionY,m=0,p=0;return r&&(m=i,p=a),{x:W(e,s-m,c+m,o),y:W(t,l-p,u+p,o)}}function B(e,t,n,o,i,a){var r=e.transformState,s=r.scale,l=r.positionX,c=r.positionY,u=o-s;return"number"!=typeof t||"number"!=typeof n?(console.error("Mouse X and Y position were not provided!"),{x:l,y:c}):I(l-t*u,c-n*u,i,a,0,0,null)}function _(e,t,n,o,i){var a=t-(i?o:0);return!Number.isNaN(n)&&e>=n?n:!Number.isNaN(t)&&e<=a?a:e}var j=function(e,t){var n=e.setup.panning.excluded,o=e.isInitialized,i=e.wrapperComponent,a=t.target,r="shadowRoot"in a&&"composedPath"in t?t.composedPath().some((function(e){return e instanceof Element&&(null==i?void 0:i.contains(e))})):null==i?void 0:i.contains(a);return!!(o&&a&&r)&&!he(a,n)},H=function(e){var t=e.isInitialized,n=e.isPanning,o=e.setup.panning.disabled;return!(!t||!n||o)};function R(e,t,n,o,i){var a=e.setup.limitToBounds,r=e.wrapperComponent,s=e.bounds,l=e.transformState,c=l.scale,u=l.positionX,m=l.positionY;if(null!==r&&null!==s&&(t!==u||n!==m)){var p=I(t,n,s,a,o,i,r),d=p.x,f=p.y;e.setTransformState(c,d,f)}}var F=function(e,t){var n=e.setup,o=e.transformState.scale,i=n.minScale,a=n.disablePadding;return t>0&&o>=i&&!a?t:0},K=function(e){var t=e.mounted,n=e.setup,o=n.disabled,i=n.velocityAnimation,a=e.transformState.scale;return!(i.disabled&&!(a>1)&&o&&!t)};function Z(e,t,n,o,i,a,r,s,l,c){if(i){var u;if(t>r&&n>r)return(u=r+(e-r)*c)>l?l:u<r?r:u;if(t<a&&n<a)return(u=a+(e-a)*c)<s?s:u>a?a:u}return o?t:W(e,a,r,i)}function q(e,t){var n=e.transformState.scale;X(e),A(e,n),void 0!==window.TouchEvent&&t instanceof TouchEvent?function(e,t){var n=t.touches,o=e.transformState,i=o.positionX,a=o.positionY;if(e.isPanning=!0,1===n.length){var r=n[0].clientX,s=n[0].clientY;e.startCoords={x:r-i,y:s-a}}}(e,t):function(e,t){var n=e.transformState,o=n.positionX,i=n.positionY;e.isPanning=!0;var a=t.clientX,r=t.clientY;e.startCoords={x:a-o,y:r-i}}(e,t)}function $(e){var t=e.transformState.scale,n=e.setup,o=n.minScale,i=n.alignmentAnimation,a=i.disabled,r=i.sizeX,s=i.sizeY,l=i.animationTime,c=i.animationType;if(!(a||t<o||!r&&!s)){var u=function(e){var t=e.transformState,n=t.positionX,o=t.positionY,i=t.scale,a=e.setup,r=a.disabled,s=a.limitToBounds,l=a.centerZoomedOut,c=e.wrapperComponent;if(!r&&c&&e.bounds){var u=e.bounds,m=u.maxPositionX,p=u.minPositionX,d=u.maxPositionY,f=u.minPositionY,h=n>m||n<p,v=o>d||o<f,g=B(e,n>m?c.offsetWidth:e.setup.minPositionX||0,o>d?c.offsetHeight:e.setup.minPositionY||0,i,e.bounds,s||l),w=g.x,y=g.y;return{scale:i,positionX:h?w:n,positionY:v?y:o}}}(e);u&&D(e,u,l,c)}}function Q(e,t,n){var o=e.startCoords,i=e.setup.alignmentAnimation,a=i.sizeX,r=i.sizeY;if(o){var s=function(e,t,n){var o=e.startCoords,i=e.transformState,a=e.setup.panning,r=a.lockAxisX,s=a.lockAxisY,l=i.positionX,c=i.positionY;if(!o)return{x:l,y:c};var u=t-o.x,m=n-o.y;return{x:r?l:u,y:s?c:m}}(e,t,n),l=s.x,c=s.y,u=F(e,a),m=F(e,r);(function(e,t){if(K(e)){var n=e.lastMousePosition,o=e.velocityTime,i=e.setup,a=e.wrapperComponent,r=i.velocityAnimation.equalToMove,s=Date.now();if(n&&o&&a){var l=function(e,t){return t?Math.min(1,e.offsetWidth/window.innerWidth):1}(a,r),c=t.x-n.x,u=t.y-n.y,m=c/l,p=u/l,d=s-o,f=c*c+u*u,h=Math.sqrt(f)/d;e.velocity={velocityX:m,velocityY:p,total:h}}e.lastMousePosition=t,e.velocityTime=s}})(e,{x:l,y:c}),R(e,l,c,u,m)}}function V(e,t,n,o){var i=e.setup,a=i.minScale,r=i.maxScale,s=i.limitToBounds,l=_(N(t,2),a,r,0,!1),c=B(e,n,o,l,A(e,l),s);return{scale:l,positionX:c.x,positionY:c.y}}function U(e,t,n){var o=e.transformState.scale,i=e.wrapperComponent,a=e.setup,r=a.minScale,s=a.limitToBounds,l=a.zoomAnimation,c=l.disabled,u=l.animationTime,m=l.animationType,p=c||o>=r;if((o>=1||s)&&$(e),!p&&i&&e.mounted){var d=V(e,r,t||i.offsetWidth/2,n||i.offsetHeight/2);d&&D(e,d,u,m)}}var G=function(){return G=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},G.apply(this,arguments)};function J(e,t,n){if(n||2===arguments.length)for(var o,i=0,a=t.length;i<a;i++)!o&&i in t||(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))}var ee={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},te=function(e){var t,n,o,i;return{previousScale:null!==(t=e.initialScale)&&void 0!==t?t:1,scale:null!==(n=e.initialScale)&&void 0!==n?n:1,positionX:null!==(o=e.initialPositionX)&&void 0!==o?o:0,positionY:null!==(i=e.initialPositionY)&&void 0!==i?i:0}},ne=function(e){var t=G({},ee);return Object.keys(e).forEach((function(n){var o=void 0!==e[n];if(void 0!==ee[n]&&o){var i=Object.prototype.toString.call(ee[n]),a="[object Object]"===i,r="[object Array]"===i;t[n]=a?G(G({},ee[n]),e[n]):r?J(J([],ee[n],!0),e[n],!0):e[n]}})),t},oe=function(e,t,n){var o=e.transformState.scale,i=e.wrapperComponent,a=e.setup,r=a.maxScale,s=a.minScale,l=a.zoomAnimation,c=a.smooth,u=l.size;if(!i)throw new Error("Wrapper is not mounted");var m=c?o*Math.exp(t*n):o+t*n;return _(N(m,3),s,r,u,!1)};function ie(e,t,n,o,i){var a=e.wrapperComponent,r=e.transformState,s=r.scale,l=r.positionX,c=r.positionY;if(!a)return console.error("No WrapperComponent found");var u=(a.offsetWidth/2-l)/s,m=(a.offsetHeight/2-c)/s,p=V(e,oe(e,t,n),u,m);if(!p)return console.error("Error during zoom event. New transformation state was not calculated.");D(e,p,o,i)}function ae(e,t,n,o){var i=e.setup,a=e.wrapperComponent,r=i.limitToBounds,s=te(e.props),l=e.transformState,c=l.scale,u=l.positionX,m=l.positionY;if(a){var p=M(e,s.scale),d=I(s.positionX,s.positionY,p,r,0,0,a),f={scale:s.scale,positionX:d.x,positionY:d.y};c===s.scale&&u===s.positionX&&m===s.positionY||(null==o||o(),D(e,f,t,n))}}var re=function(e){return function(t,n,o){void 0===t&&(t=.5),void 0===n&&(n=300),void 0===o&&(o="easeOut"),ie(e,1,t,n,o)}},se=function(e){return function(t,n,o){void 0===t&&(t=.5),void 0===n&&(n=300),void 0===o&&(o="easeOut"),ie(e,-1,t,n,o)}},le=function(e){return function(t,n,o,i,a){void 0===i&&(i=300),void 0===a&&(a="easeOut");var r=e.transformState,s=r.positionX,l=r.positionY,c=r.scale,u=e.wrapperComponent,m=e.contentComponent;if(!e.setup.disabled&&u&&m){var p={positionX:Number.isNaN(t)?s:t,positionY:Number.isNaN(n)?l:n,scale:Number.isNaN(o)?c:o};D(e,p,i,a)}}},ce=function(e){return function(t,n){void 0===t&&(t=200),void 0===n&&(n="easeOut"),ae(e,t,n)}},ue=function(e){return function(t,n,o){void 0===n&&(n=200),void 0===o&&(o="easeOut");var i=e.transformState,a=e.wrapperComponent,r=e.contentComponent;if(a&&r){var s=ge(t||i.scale,a,r);D(e,s,n,o)}}},me=function(e){return function(t,n,o,i){void 0===o&&(o=600),void 0===i&&(i="easeOut"),X(e);var a=e.wrapperComponent,r="string"==typeof t?document.getElementById(t):t;if(a&&r&&a.contains(r)){var s=function(e,t,n){var o=e.wrapperComponent,i=e.contentComponent,a=e.transformState,r=e.setup,s=r.limitToBounds,l=r.minScale,c=r.maxScale;if(!o||!i)return a;var u,m,p,d,f,h,v,g,w=o.getBoundingClientRect(),y=t.getBoundingClientRect(),E=(u=o,m=i,p=a,d=t.getBoundingClientRect(),f=u.getBoundingClientRect(),h=m.getBoundingClientRect(),v=f.x*p.scale,g=f.y*p.scale,{x:(d.x-h.x+v)/p.scale,y:(d.y-h.y+g)/p.scale}),b=E.x,S=E.y,x=y.width/a.scale,C=y.height/a.scale,P=o.offsetWidth/x,T=o.offsetHeight/C,k=_(n||Math.min(P,T),l,c,0,!1),N=(w.width-x*k)/2,z=(w.height-C*k)/2,O=I((w.left-b)*k+N,(w.top-S)*k+z,M(e,k),s,0,0,o);return{positionX:O.x,positionY:O.y,scale:k}}(e,r,n);D(e,s,o,i)}}},pe=function(e){return{instance:e,zoomIn:re(e),zoomOut:se(e),setTransform:le(e),resetTransform:ce(e),centerView:ue(e),zoomToElement:me(e)}},de=function(e){var t={};return Object.assign(t,function(e){return{instance:e,state:e.transformState}}(e)),Object.assign(t,pe(e)),t};function fe(){try{return{get passive(){return!1}}}catch(e){return!1}}var he=function(e,t){return t.some((function(t){return e.matches("".concat(t,", .").concat(t,", ").concat(t," *, .").concat(t," *"))}))},ve=function(e){e&&clearTimeout(e)},ge=function(e,t,n){var o=n.offsetWidth*e,i=n.offsetHeight*e;return{scale:e,positionX:(t.offsetWidth-o)/2,positionY:(t.offsetHeight-i)/2}};function we(e,t,n){var o=t.getBoundingClientRect(),i=0,a=0;if("clientX"in e)i=(e.clientX-o.left)/n,a=(e.clientY-o.top)/n;else{var r=e.touches[0];i=(r.clientX-o.left)/n,a=(r.clientY-o.top)/n}return(Number.isNaN(i)||Number.isNaN(a))&&console.error("No mouse or touch offset found"),{x:i,y:a}}var ye=function(e){return Math.sqrt(Math.pow(e.touches[0].pageX-e.touches[1].pageX,2)+Math.pow(e.touches[0].pageY-e.touches[1].pageY,2))},Ee=function(e,t){var n=e.props.onZoomStop,o=e.setup.doubleClick.animationTime;ve(e.doubleClickStopEventTimer),e.doubleClickStopEventTimer=setTimeout((function(){e.doubleClickStopEventTimer=null,z(de(e),t,n)}),o)};var be=function(e){var t=this;this.mounted=!0,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){t.initializeWindowEvents()},this.unmount=function(){t.cleanupWindowEvents()},this.update=function(e){t.props=e,A(t,t.transformState.scale),t.setup=ne(e)},this.initializeWindowEvents=function(){var e,n,o=fe(),i=null===(e=t.wrapperComponent)||void 0===e?void 0:e.ownerDocument,a=null==i?void 0:i.defaultView;null===(n=t.wrapperComponent)||void 0===n||n.addEventListener("wheel",t.onWheelPanning,o),null==a||a.addEventListener("mousedown",t.onPanningStart,o),null==a||a.addEventListener("mousemove",t.onPanning,o),null==a||a.addEventListener("mouseup",t.onPanningStop,o),null==i||i.addEventListener("mouseleave",t.clearPanning,o),null==a||a.addEventListener("keyup",t.setKeyUnPressed,o),null==a||a.addEventListener("keydown",t.setKeyPressed,o)},this.cleanupWindowEvents=function(){var e,n,o=fe(),i=null===(e=t.wrapperComponent)||void 0===e?void 0:e.ownerDocument,a=null==i?void 0:i.defaultView;null==a||a.removeEventListener("mousedown",t.onPanningStart,o),null==a||a.removeEventListener("mousemove",t.onPanning,o),null==a||a.removeEventListener("mouseup",t.onPanningStop,o),null==i||i.removeEventListener("mouseleave",t.clearPanning,o),null==a||a.removeEventListener("keyup",t.setKeyUnPressed,o),null==a||a.removeEventListener("keydown",t.setKeyPressed,o),document.removeEventListener("mouseleave",t.clearPanning,o),X(t),null===(n=t.observer)||void 0===n||n.disconnect()},this.handleInitializeWrapperEvents=function(e){var n=fe();e.addEventListener("wheel",t.onWheelZoom,n),e.addEventListener("dblclick",t.onDoubleClick,n),e.addEventListener("touchstart",t.onTouchPanningStart,n),e.addEventListener("touchmove",t.onTouchPanning,n),e.addEventListener("touchend",t.onTouchPanningStop,n)},this.handleInitialize=function(e){var n=t.setup.centerOnInit;t.applyTransformation(),t.onInitCallbacks.forEach((function(e){return e(de(t))})),n&&(t.setCenter(),t.observer=new ResizeObserver((function(){var n,o=e.offsetWidth,i=e.offsetHeight;(o>0||i>0)&&(t.onInitCallbacks.forEach((function(e){return e(de(t))})),t.setCenter(),null===(n=t.observer)||void 0===n||n.disconnect())})),setTimeout((function(){var e;null===(e=t.observer)||void 0===e||e.disconnect()}),5e3),t.observer.observe(e))},this.onWheelZoom=function(e){if(!t.setup.disabled){var n=function(e,t){var n=e.setup.wheel,o=n.disabled,i=n.wheelDisabled,a=n.touchPadDisabled,r=n.excluded,s=e.isInitialized,l=e.isPanning,c=t.target;return!(!s||l||o||!c||i&&!t.ctrlKey||a&&t.ctrlKey||he(c,r))}(t,e);n&&t.isPressingKeys(t.setup.wheel.activationKeys)&&(function(e,t){var n=e.props,o=n.onWheelStart,i=n.onZoomStart;e.wheelStopEventTimer||(X(e),z(de(e),t,o),z(de(e),t,i))}(t,e),function(e,t){var n=e.props,o=n.onWheel,i=n.onZoom,a=e.contentComponent,r=e.setup,s=e.transformState.scale,l=r.limitToBounds,c=r.centerZoomedOut,u=r.zoomAnimation,m=r.wheel,p=r.disablePadding,d=r.smooth,f=u.size,h=u.disabled,v=m.step,g=m.smoothStep;if(!a)throw new Error("Component not mounted");t.preventDefault(),t.stopPropagation();var w=function(e,t){var n=function(e){return e?e.deltaY<0?1:-1:0}(e);return n}(t),y=function(e,t,n,o,i){var a=e.transformState.scale,r=e.wrapperComponent,s=e.setup,l=s.maxScale,c=s.minScale,u=s.zoomAnimation,m=s.disablePadding,p=u.size,d=u.disabled;if(!r)throw new Error("Wrapper is not mounted");var f=!o&&!d;return _(N(a+t*n,3),c,l,p,f&&!m)}(e,w,d?g*Math.abs(t.deltaY):v,!t.ctrlKey);if(s!==y){var E=A(e,y),b=we(t,a,s),S=l&&(h||0===f||c||p),x=B(e,b.x,b.y,y,E,S),C=x.x,P=x.y;e.previousWheelEvent=t,e.setTransformState(y,C,P),z(de(e),t,o),z(de(e),t,i)}}(t,e),function(e,t){var n=e.props,o=n.onWheelStop,i=n.onZoomStop;ve(e.wheelAnimationTimer),e.wheelAnimationTimer=setTimeout((function(){e.mounted&&(U(e,t.x,t.y),e.wheelAnimationTimer=null)}),100);var a=function(e,t){var n=e.previousWheelEvent,o=e.transformState.scale,i=e.setup,a=i.maxScale,r=i.minScale;return!!n&&(o<a||o>r||Math.sign(n.deltaY)!==Math.sign(t.deltaY)||n.deltaY>0&&n.deltaY<t.deltaY||n.deltaY<0&&n.deltaY>t.deltaY||Math.sign(n.deltaY)!==Math.sign(t.deltaY))}(e,t);a&&(ve(e.wheelStopEventTimer),e.wheelStopEventTimer=setTimeout((function(){e.mounted&&(e.wheelStopEventTimer=null,z(de(e),t,o),z(de(e),t,i))}),160))}(t,e))}},this.onWheelPanning=function(e){var n=t.setup,o=n.disabled,i=n.wheel,a=n.panning;if(t.wrapperComponent&&t.contentComponent&&!o&&i.wheelDisabled&&!a.disabled&&a.wheelPanning&&!e.ctrlKey){e.preventDefault(),e.stopPropagation();var r=t.transformState,s=r.positionX,l=r.positionY,c=s-e.deltaX,u=l-e.deltaY,m=a.lockAxisX?s:c,p=a.lockAxisY?l:u,d=t.setup.alignmentAnimation,f=d.sizeX,h=d.sizeY,v=F(t,f),g=F(t,h);m===s&&p===l||R(t,m,p,v,g)}},this.onPanningStart=function(e){var n=t.setup.disabled,o=t.props.onPanningStart;n||j(t,e)&&t.isPressingKeys(t.setup.panning.activationKeys)&&(0!==e.button||t.setup.panning.allowLeftClickPan)&&(1!==e.button||t.setup.panning.allowMiddleClickPan)&&(2!==e.button||t.setup.panning.allowRightClickPan)&&(e.preventDefault(),e.stopPropagation(),X(t),q(t,e),z(de(t),e,o))},this.onPanning=function(e){var n=t.setup.disabled,o=t.props.onPanning;n||H(t)&&t.isPressingKeys(t.setup.panning.activationKeys)&&(e.preventDefault(),e.stopPropagation(),Q(t,e.clientX,e.clientY),z(de(t),e,o))},this.onPanningStop=function(e){var n=t.props.onPanningStop;t.isPanning&&(function(e){if(e.isPanning){var t=e.setup.panning.velocityDisabled,n=e.velocity,o=e.wrapperComponent,i=e.contentComponent;e.isPanning=!1,e.animate=!1,e.animation=null;var a=null==o?void 0:o.getBoundingClientRect(),r=null==i?void 0:i.getBoundingClientRect(),s=(null==a?void 0:a.width)||0,l=(null==a?void 0:a.height)||0,c=(null==r?void 0:r.width)||0,u=(null==r?void 0:r.height)||0,m=s<c||l<u;!t&&n&&(null==n?void 0:n.total)>.1&&m?function(e){var t=e.velocity,n=e.bounds,o=e.setup,i=e.wrapperComponent;if(function(e){var t=e.mounted,n=e.velocity,o=e.bounds,i=e.setup,a=i.disabled,r=i.velocityAnimation,s=e.transformState.scale;return!(r.disabled&&!(s>1)&&a&&!t||!n||!o)}(e)&&t&&n&&i){var a=t.velocityX,r=t.velocityY,s=t.total,l=n.maxPositionX,c=n.minPositionX,u=n.maxPositionY,m=n.minPositionY,p=o.limitToBounds,d=o.alignmentAnimation,f=o.zoomAnimation,h=o.panning,v=h.lockAxisY,g=h.lockAxisX,w=f.animationType,y=d.sizeX,E=d.sizeY,b=d.velocityAlignmentTime,S=function(e,t){var n=e.setup.velocityAnimation,o=n.equalToMove,i=n.animationTime,a=n.sensitivity;return o?i*t*a:i}(e,s),x=Math.max(S,b),C=F(e,y),P=F(e,E),T=C*i.offsetWidth/100,k=P*i.offsetHeight/100,N=l+T,z=c-T,Y=u+k,X=m-k,D=e.transformState,M=(new Date).getTime();L(e,w,x,(function(t){var n=e.transformState,o=n.scale,i=n.positionX,s=n.positionY,f=((new Date).getTime()-M)/b,h=1-(0,O[d.animationType])(Math.min(1,f)),w=1-t,y=i+a*w,E=s+r*w,S=Z(y,D.positionX,i,g,p,c,l,z,N,h),x=Z(E,D.positionY,s,v,p,m,u,X,Y,h);i===y&&s===E||e.setTransformState(o,S,x)}))}}(e):$(e)}}(t),z(de(t),e,n))},this.onPinchStart=function(e){var n=t.setup.disabled,o=t.props,i=o.onPinchingStart,a=o.onZoomStart;if(!n){var r=function(e,t){var n=e.setup.pinch,o=n.disabled,i=n.excluded,a=e.isInitialized,r=t.target;return!(!a||o||!r||he(r,i))}(t,e);r&&(function(e,t){var n=ye(t);e.pinchStartDistance=n,e.lastDistance=n,e.pinchStartScale=e.transformState.scale,e.isPanning=!1,X(e)}(t,e),X(t),z(de(t),e,i),z(de(t),e,a))}},this.onPinch=function(e){var n=t.setup.disabled,o=t.props,i=o.onPinching,a=o.onZoom;if(!n){var r=function(e){var t=e.setup.pinch.disabled,n=e.isInitialized,o=e.pinchStartDistance;return!(!n||t||!o)}(t);r&&(e.preventDefault(),e.stopPropagation(),function(e,t){var n=e.contentComponent,o=e.pinchStartDistance,i=e.transformState.scale,a=e.setup,r=a.limitToBounds,s=a.centerZoomedOut,l=a.zoomAnimation,c=l.disabled,u=l.size;if(null!==o&&n){var m=function(e,t,n){var o=n.getBoundingClientRect(),i=e.touches,a=N(i[0].clientX-o.left,5),r=N(i[0].clientY-o.top,5);return{x:(a+N(i[1].clientX-o.left,5))/2/t,y:(r+N(i[1].clientY-o.top,5))/2/t}}(t,i,n);if(Number.isFinite(m.x)&&Number.isFinite(m.y)){var p=ye(t),d=function(e,t){var n=e.pinchStartScale,o=e.pinchStartDistance,i=e.setup,a=i.maxScale,r=i.minScale,s=i.zoomAnimation,l=i.disablePadding,c=s.size,u=s.disabled;if(!n||null===o||!t)throw new Error("Pinch touches distance was not provided");return t<0?e.transformState.scale:_(N(t/o*n,2),r,a,c,!u&&!l)}(e,p);if(d!==i){var f=A(e,d),h=r&&(c||0===u||s),v=B(e,m.x,m.y,d,f,h),g=v.x,w=v.y;e.pinchMidpoint=m,e.lastDistance=p,e.setTransformState(d,g,w)}}}}(t,e),z(de(t),e,i),z(de(t),e,a))}},this.onPinchStop=function(e){var n,o,i=t.props,a=i.onPinchingStop,r=i.onZoomStop;t.pinchStartScale&&(o=(n=t).pinchMidpoint,n.velocity=null,n.lastDistance=null,n.pinchMidpoint=null,n.pinchStartScale=null,n.pinchStartDistance=null,U(n,null==o?void 0:o.x,null==o?void 0:o.y),z(de(t),e,a),z(de(t),e,r))},this.onTouchPanningStart=function(e){var n=t.setup.disabled,o=t.props.onPanningStart;if(!n&&j(t,e))if(t.lastTouch&&+new Date-t.lastTouch<200&&1===e.touches.length)t.onDoubleClick(e);else{t.lastTouch=+new Date,X(t);var i=e.touches,a=1===i.length,r=2===i.length;a&&(X(t),q(t,e),z(de(t),e,o)),r&&t.onPinchStart(e)}},this.onTouchPanning=function(e){var n=t.setup.disabled,o=t.props.onPanning;if(t.isPanning&&1===e.touches.length){if(n)return;if(!H(t))return;e.preventDefault(),e.stopPropagation();var i=e.touches[0];Q(t,i.clientX,i.clientY),z(de(t),e,o)}else e.touches.length>1&&t.onPinch(e)},this.onTouchPanningStop=function(e){t.onPanningStop(e),t.onPinchStop(e)},this.onDoubleClick=function(e){if(!t.setup.disabled){var n=function(e,t){var n=e.isInitialized,o=e.setup,i=e.wrapperComponent,a=o.doubleClick,r=a.disabled,s=a.excluded,l=t.target,c=null==i?void 0:i.contains(l);return!(!(n&&l&&c)||r||he(l,s))}(t,e);n&&function(e,t){var n=e.setup,o=e.doubleClickStopEventTimer,i=e.transformState,a=e.contentComponent,r=i.scale,s=e.props,l=s.onZoomStart,c=s.onZoom,u=n.doubleClick,m=u.disabled,p=u.mode,d=u.step,f=u.animationTime,h=u.animationType;if(!m&&!o){if("reset"===p)return function(e,t){var n=e.props,o=n.onZoomStart,i=n.onZoom,a=e.setup.doubleClick,r=a.animationTime,s=a.animationType;z(de(e),t,o),ae(e,r,s,(function(){return z(de(e),t,i)})),Ee(e,t)}(e,t);if(!a)return console.error("No ContentComponent found");var v=function(e,t){return"toggle"===e?1===t?1:-1:"zoomOut"===e?-1:1}(p,e.transformState.scale),g=oe(e,v,d);if(r!==g){z(de(e),t,l);var w=we(t,a,r),y=V(e,g,w.x,w.y);if(!y)return console.error("Error during zoom event. New transformation state was not calculated.");z(de(e),t,c),D(e,y,f,h),Ee(e,t)}}}(t,e)}},this.clearPanning=function(e){t.isPanning&&t.onPanningStop(e)},this.setKeyPressed=function(e){t.pressedKeys[e.key]=!0},this.setKeyUnPressed=function(e){t.pressedKeys[e.key]=!1},this.isPressingKeys=function(e){return!e.length||Boolean(e.find((function(e){return t.pressedKeys[e]})))},this.setTransformState=function(e,n,o){var i=t.props.onTransformed;if(Number.isNaN(e)||Number.isNaN(n)||Number.isNaN(o))console.error("Detected NaN set state values");else{e!==t.transformState.scale&&(t.transformState.previousScale=t.transformState.scale,t.transformState.scale=e),t.transformState.positionX=n,t.transformState.positionY=o,t.applyTransformation();var a=de(t);t.onChangeCallbacks.forEach((function(e){return e(a)})),z(a,{scale:e,positionX:n,positionY:o},i)}},this.setCenter=function(){if(t.wrapperComponent&&t.contentComponent){var e=ge(t.transformState.scale,t.wrapperComponent,t.contentComponent);t.setTransformState(e.scale,e.positionX,e.positionY)}},this.handleTransformStyles=function(e,n,o){return t.props.customTransform?t.props.customTransform(e,n,o):function(e,t,n){return"translate(".concat(e,"px, ").concat(t,"px) scale(").concat(n,")")}(e,n,o)},this.applyTransformation=function(){if(t.mounted&&t.contentComponent){var e=t.transformState,n=e.scale,o=e.positionX,i=e.positionY,a=t.handleTransformStyles(o,i,n);t.contentComponent.style.transform=a}},this.getContext=function(){return de(t)},this.onChange=function(e){return t.onChangeCallbacks.has(e)||t.onChangeCallbacks.add(e),function(){t.onChangeCallbacks.delete(e)}},this.onInit=function(e){return t.onInitCallbacks.has(e)||t.onInitCallbacks.add(e),function(){t.onInitCallbacks.delete(e)}},this.init=function(e,n){t.cleanupWindowEvents(),t.wrapperComponent=e,t.contentComponent=n,A(t,t.transformState.scale),t.handleInitializeWrapperEvents(e),t.handleInitialize(n),t.initializeWindowEvents(),t.isInitialized=!0;var o=de(t);z(o,void 0,t.props.onInit)},this.props=e,this.setup=ne(this.props),this.transformState=te(this.props)},Se=n().createContext(null),xe=n().forwardRef((function(e,o){var i,a,r=(0,t.useRef)(new be(e)).current,s=(i=e.children,a=pe(r),"function"==typeof i?i(a):i);return(0,t.useImperativeHandle)(o,(function(){return pe(r)}),[r]),(0,t.useEffect)((function(){r.update(e)}),[r,e]),n().createElement(Se.Provider,{value:r},s)}));n().forwardRef((function(e,o){var i,a=(0,t.useRef)(null),r=(0,t.useContext)(Se);return(0,t.useEffect)((function(){return r.onChange((function(e){a.current&&(a.current.style.transform=r.handleTransformStyles(0,0,1/e.instance.transformState.scale))}))}),[r]),n().createElement("div",G({},e,{ref:(i=[a,o],function(e){i.forEach((function(t){"function"==typeof t?t(e):null!=t&&(t.current=e)}))})}))}));!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&o.firstChild?o.insertBefore(i,o.firstChild):o.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".transform-component-module_wrapper__SPB86 {\n  position: relative;\n  width: -moz-fit-content;\n  width: fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n  overflow: hidden;\n  -webkit-touch-callout: none; /* iOS Safari */\n  -webkit-user-select: none; /* Safari */\n  -khtml-user-select: none; /* Konqueror HTML */\n  -moz-user-select: none; /* Firefox */\n  -ms-user-select: none; /* Internet Explorer/Edge */\n  user-select: none;\n  margin: 0;\n  padding: 0;\n}\n.transform-component-module_content__FBWxo {\n  display: flex;\n  flex-wrap: wrap;\n  width: -moz-fit-content;\n  width: fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n  margin: 0;\n  padding: 0;\n  transform-origin: 0% 0%;\n}\n.transform-component-module_content__FBWxo img {\n  pointer-events: none;\n}\n");var Ce=function(e){var o=e.children,i=e.wrapperClass,a=void 0===i?"":i,r=e.contentClass,s=void 0===r?"":r,l=e.wrapperStyle,c=e.contentStyle,u=e.wrapperProps,m=void 0===u?{}:u,p=e.contentProps,d=void 0===p?{}:p,f=(0,t.useContext)(Se),h=f.init,v=f.cleanupWindowEvents,g=(0,t.useRef)(null),w=(0,t.useRef)(null);return(0,t.useEffect)((function(){var e=g.current,t=w.current;return null!==e&&null!==t&&h&&(null==h||h(e,t)),function(){null==v||v()}}),[]),n().createElement("div",G({},m,{ref:g,className:"react-transform-wrapper ".concat("transform-component-module_wrapper__SPB86"," ").concat(a),style:l}),n().createElement("div",G({},d,{ref:w,className:"react-transform-component ".concat("transform-component-module_content__FBWxo"," ").concat(s),style:c}),o))};function Pe({loadHandler:e}){const[n,o]=(0,t.useState)(null),i=(0,t.useRef)();let a=document.getElementById("expo-react-container").dataset.map;return(0,t.useEffect)((()=>{(async()=>{try{const t=await fetch(a);if(!t.ok)throw new Error("Failed to fetch SVG");const n=await t.text();o(n),e()}catch(e){console.error("Error fetching SVG:",e)}})()}),[a]),(0,t.createElement)(t.Fragment,null,(0,t.createElement)(xe,{style:{width:"100vw",height:"100vh"}},(0,t.createElement)(Ce,null,(0,t.createElement)("div",{ref:i,className:"expo-plan-image-container",width:"100%",height:"100%",dangerouslySetInnerHTML:{__html:n}}))))}i().render((0,t.createElement)((function(){const[e,n]=(0,t.useState)(!1);return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(Pe,{loadHandler:()=>{console.log("MAP LOADET"),n(!0)}}),e&&(0,t.createElement)(k,null))}),null),document.getElementById("expo-react-container"))})();